#!/bin/bash\n\n# Sustainable Urban Studio Backend Installation Script\n\necho \"🏗️  Setting up Sustainable Urban Studio Backend...\"\n\n# Check if Node.js is installed\nif ! command -v node &> /dev/null; then\n    echo \"❌ Node.js is not installed. Please install Node.js 16 or higher.\"\n    exit 1\nfi\n\n# Check Node.js version\nNODE_VERSION=$(node -v | cut -d'.' -f1 | sed 's/v//')\nif [ \"$NODE_VERSION\" -lt 16 ]; then\n    echo \"❌ Node.js version 16 or higher is required. Current version: $(node -v)\"\n    exit 1\nfi\n\necho \"✅ Node.js version: $(node -v)\"\n\n# Install dependencies\necho \"📦 Installing Node.js dependencies...\"\nnpm install\n\nif [ $? -ne 0 ]; then\n    echo \"❌ Failed to install Node.js dependencies\"\n    exit 1\nfi\n\necho \"✅ Node.js dependencies installed\"\n\n# Create necessary directories\necho \"📁 Creating necessary directories...\"\nmkdir -p uploads\nmkdir -p downloads\nmkdir -p downloads/naturalearth\nmkdir -p downloads/geofabrik\nmkdir -p downloads/census-tiger\nmkdir -p downloads/municipal\nmkdir -p downloads/microsoft-buildings\n\necho \"✅ Directories created\"\n\n# Copy environment configuration\nif [ ! -f .env ]; then\n    echo \"⚙️  Creating environment configuration...\"\n    cp .env.example .env\n    echo \"✅ Environment file created (.env)\"\n    echo \"📝 Please edit .env file with your database credentials\"\nelse\n    echo \"ℹ️  Environment file (.env) already exists\"\nfi\n\n# Check if Docker is available\nif command -v docker &> /dev/null; then\n    echo \"🐳 Docker is available\"\n    \n    # Check if docker-compose is available\n    if command -v docker-compose &> /dev/null; then\n        echo \"🐙 Docker Compose is available\"\n        echo \"💡 You can start the full stack with: docker-compose up\"\n    else\n        echo \"⚠️  Docker Compose not found. Install it for full stack deployment.\"\n    fi\nelse\n    echo \"⚠️  Docker not found. Install Docker for containerized deployment.\"\nfi\n\n# Check database connectivity\necho \"🔍 Checking database requirements...\"\necho \"📋 Required database: PostgreSQL with PostGIS extension\"\necho \"🌐 Default connection: postgresql://postgres:your_password_here@localhost:5432/urban_studio\"\necho \"⚙️  Update DATABASE_URL in .env file with your PostgreSQL credentials\"\n\necho \"\"\necho \"🎉 Installation completed!\"\necho \"\"\necho \"📚 Next steps:\"\necho \"   1. Update .env file with your database credentials\"\necho \"   2. Ensure PostgreSQL with PostGIS is running\"\necho \"   3. Start the development server: npm run dev\"\necho \"   4. Visit the API documentation at: http://localhost:3001/api/gis\"\necho \"\"\necho \"📖 API Documentation: ./API_DOCUMENTATION.md\"\necho \"🔧 Configuration: .env\"\necho \"\"\necho \"🚀 Happy mapping! 🗺️\""